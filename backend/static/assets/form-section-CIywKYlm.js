var Ce=Object.defineProperty;var ve=(s,r,c)=>r in s?Ce(s,r,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[r]=c;var K=(s,r,c)=>ve(s,typeof r!="symbol"?r+"":r,c);import{d as _e,e as V,B as T,X as ce,A as X,j as we,b as Z,T as fe,L as Se}from"./index-BX3Jf5rY.js";import{j as e,n as Fe,e as Oe,p as ke,q as te,g as Ae,s as Ie,u as Ee,J as Be}from"./radixUI-MBKqlelr.js";import{C as ze}from"./circle-check-big-D7qwqCjm.js";import{I as Ne,C as H}from"./info-CS099tTK.js";import{C as J,a as W,b as ee,c as se}from"./card-0UsC1Hfx.js";import{C as Pe}from"./check-CrQWtsni.js";import{C as Te}from"./clock-DuORzYmm.js";import{a as p}from"./vendor-BQUE8CnD.js";import{I as v}from"./input-C7n7UaRv.js";import{L as h}from"./label-BGHhm9HA.js";import{S as Y,a as G,b as U,c as q,d as I}from"./select-CHEqtOpE.js";import{F as Re,g as de,R as me,a as z}from"./formValidation-odEsOSDa.js";import{U as he}from"./user-BSKbQLbH.js";import{M as Me}from"./map-pin-DbAZafho.js";import{M as $e}from"./mail-BXPjmS9p.js";import{P as pe}from"./phone-CsbprQIk.js";import{B as ue}from"./badge-DbL2e8Dt.js";import{C as Le}from"./chevron-down-BIP_RoMW.js";import{C as Ve}from"./chevron-right-D20CZ_0W.js";/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),bs=()=>{window.scrollTo({top:0,behavior:"smooth"})},Cs=(s="error-container")=>{const r=document.getElementById(s);r&&r.scrollIntoView({behavior:"smooth",block:"start"})};function vs({messages:s,title:r,showIcon:c=!0,dismissible:a=!1,onDismiss:t,className:m,compact:f=!1}){if(!s||s.length===0)return null;const n=s.reduce((u,g)=>{const y=g.type||"error";return u[y]||(u[y]=[]),u[y].push(g),u},{}),x=n.error?"error":n.warning?"warning":n.info?"info":"success",o={error:e.jsx(H,{className:"h-5 w-5"}),warning:e.jsx(fe,{className:"h-5 w-5"}),info:e.jsx(Ne,{className:"h-5 w-5"}),success:e.jsx(ze,{className:"h-5 w-5"})},F={error:"destructive",warning:"warning",info:"default",success:"success"};return f?e.jsxs("div",{className:V("rounded-lg p-4 flex items-start gap-3",x==="error"&&"bg-red-50 text-red-900 border border-red-200",x==="warning"&&"bg-amber-50 text-amber-900 border border-amber-200",x==="info"&&"bg-blue-50 text-blue-900 border border-blue-200",x==="success"&&"bg-green-50 text-green-900 border border-green-200",m),children:[c&&e.jsx("div",{className:"flex-shrink-0 mt-0.5",children:o[x]}),e.jsxs("div",{className:"flex-1 space-y-1",children:[r&&e.jsx("p",{className:"font-medium",children:r}),e.jsx("ul",{className:"space-y-1",children:s.map((u,g)=>e.jsxs("li",{className:"text-sm flex items-start gap-2",children:[u.field&&e.jsxs("span",{className:"font-medium",children:[u.field,":"]}),e.jsx("span",{children:u.message})]},g))})]}),a&&e.jsx(T,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-transparent",onClick:t,children:e.jsx(ce,{className:"h-4 w-4"})})]}):e.jsxs(X,{variant:F[x],className:V("relative",m),children:[c&&o[x],a&&e.jsx(T,{variant:"ghost",size:"sm",className:"absolute right-2 top-2 h-6 w-6 p-0",onClick:t,children:e.jsx(ce,{className:"h-4 w-4"})}),e.jsx(we,{className:"mb-2",children:r||(x==="error"?"Please correct the following errors":x==="warning"?"Please review the following warnings":x==="info"?"Please note":"Success")}),e.jsx(Z,{children:e.jsx("ul",{className:"space-y-2",children:Object.entries(n).map(([u,g])=>g.map((y,k)=>e.jsxs("li",{className:"flex items-start gap-2",children:[u!==x&&e.jsx("span",{className:"flex-shrink-0 mt-0.5",children:o[u]}),e.jsxs("span",{className:"flex-1",children:[y.field&&e.jsxs("span",{className:"font-medium",children:[y.field,": "]}),y.message]})]},`${u}-${k}`)))})})]})}const Ke=({error:s,className:r="",variant:c="inline"})=>{if(!s||Array.isArray(s)&&s.length===0)return null;const a=Array.isArray(s)?s:[s];return c==="alert"?e.jsxs(X,{variant:"destructive",className:`${r}`,children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx(Z,{children:a.length===1?a[0]:e.jsx("ul",{className:"list-disc list-inside space-y-1",children:a.map((t,m)=>e.jsx("li",{children:t},m))})})]}):e.jsx("div",{className:`text-sm text-red-600 mt-1 ${r}`,children:a.length===1?e.jsxs("p",{className:"flex items-start space-x-1",children:[e.jsx(H,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:a[0]})]}):e.jsx("ul",{className:"space-y-1",children:a.map((t,m)=>e.jsxs("li",{className:"flex items-start space-x-1",children:[e.jsx(H,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:t})]},m))})})},Ye=({status:s,lastSaved:r,error:c,className:a="",language:t="en"})=>{const m=x=>x?(typeof x=="string"?new Date(x):x).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):null,n={en:{saving:"Saving...",saved:"Saved",error:"Failed to save",lastSaved:"Last saved at"},es:{saving:"Guardando...",saved:"Guardado",error:"Error al guardar",lastSaved:"Guardado por última vez a las"}}[t];return e.jsxs("div",{className:`flex items-center space-x-2 text-sm ${a}`,children:[s==="saving"&&e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"h-4 w-4 animate-spin text-blue-600"}),e.jsx("span",{className:"text-gray-600",children:n.saving})]}),s==="saved"&&e.jsxs(e.Fragment,{children:[e.jsx(Pe,{className:"h-4 w-4 text-green-600"}),e.jsxs("span",{className:"text-green-600",children:[n.saved,r&&e.jsxs("span",{className:"text-gray-500 ml-1",children:["(",n.lastSaved," ",m(r),")"]})]})]}),s==="error"&&e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-red-600",children:c||n.error})]}),s==="idle"&&r&&e.jsxs("span",{className:"text-gray-500",children:[e.jsx(Te,{className:"h-4 w-4 inline mr-1"}),n.lastSaved," ",m(r)]})]})};function _s({children:s,errors:r=[],fieldErrors:c={},saveStatus:a="idle",className:t=""}){const m=Object.values(c).filter(Boolean);return r.length>0||m.length>0,e.jsxs("div",{className:`space-y-6 ${t}`,children:[r.length>0&&e.jsx(Ke,{errors:r,variant:"alert"}),e.jsxs("div",{className:"relative",children:[s,a!=="idle"&&e.jsx("div",{className:"absolute top-0 right-0 -mt-8",children:e.jsx(Ye,{status:a})})]}),m.length>0&&e.jsx(J,{className:"border-amber-200 bg-amber-50",children:e.jsxs(W,{className:"pt-6",children:[e.jsx("p",{className:"text-sm font-medium text-amber-800 mb-2",children:"Please correct the following fields:"}),e.jsx("ul",{className:"text-sm text-amber-700 space-y-1",children:m.map((f,n)=>e.jsxs("li",{children:["• ",f]},n))})]})})]})}const ws=(s,r)=>{const{onSave:c,delay:a=2e3,enabled:t=!0}=r,[m,f]=p.useState("idle"),[n,x]=p.useState(null),[o,F]=p.useState(null),u=p.useRef(null),g=p.useRef(!0),y=p.useRef("");p.useEffect(()=>()=>{g.current=!1,u.current&&clearTimeout(u.current)},[]);const k=p.useCallback(async()=>{if(!(!t||!g.current))try{f("saving"),F(null),await c(s),g.current&&(f("saved"),x(new Date),setTimeout(()=>{g.current&&m==="saved"&&f("idle")},3e3))}catch(_){g.current&&(f("error"),F(_ instanceof Error?_.message:"Failed to save"),setTimeout(()=>{g.current&&m==="error"&&f("idle")},5e3))}},[s,t,c,m]),A=p.useCallback(()=>{u.current&&clearTimeout(u.current),k()},[k]);return p.useEffect(()=>{if(!t)return;const _=JSON.stringify(s);if(_!==y.current)return y.current=_,u.current&&clearTimeout(u.current),u.current=setTimeout(()=>{k()},a),()=>{u.current&&clearTimeout(u.current)}},[s,a,t,k]),{saveStatus:m,lastSaved:n,saveError:o,triggerSave:A}},M=class M{constructor(){K(this,"data",{});K(this,"STORAGE_KEY","onboarding_autofill_v2");K(this,"BACKUP_KEY","onboarding_autofill_backup")}static getInstance(){return M.instance||(M.instance=new M),M.instance}updateData(r){this.createBackup(),this.data={...this.data,...r};const c={...this.data,_lastUpdated:new Date().toISOString(),_version:"2.0"};try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(c))}catch(a){console.error("Failed to save auto-fill data:",a),this.cleanup();try{localStorage.setItem(this.STORAGE_KEY,JSON.stringify(c))}catch(t){console.error("Failed to save auto-fill data after cleanup:",t)}}}getData(){if(Object.keys(this.data).length>0)return this.data;try{const r=localStorage.getItem(this.STORAGE_KEY);if(r){const c=JSON.parse(r),{_lastUpdated:a,_version:t,...m}=c;return this.data=m,this.data}}catch(r){return console.warn("Failed to load auto-fill data, trying backup:",r),this.loadFromBackup()}try{const r=localStorage.getItem("onboarding_autofill");if(r)return this.data=JSON.parse(r),this.updateData({}),this.data}catch(r){console.warn("Failed to load legacy auto-fill data:",r)}return{}}getValue(r){return this.getData()[r]}createBackup(){try{const r=localStorage.getItem(this.STORAGE_KEY);r&&localStorage.setItem(this.BACKUP_KEY,r)}catch(r){console.warn("Failed to create backup:",r)}}loadFromBackup(){try{const r=localStorage.getItem(this.BACKUP_KEY);if(r){const c=JSON.parse(r),{_lastUpdated:a,_version:t,...m}=c;return this.data=m,this.data}}catch(r){console.warn("Failed to load from backup:",r)}return{}}cleanup(){try{localStorage.removeItem("onboarding_autofill"),localStorage.removeItem(this.BACKUP_KEY)}catch(r){console.warn("Failed to cleanup old data:",r)}}autoFillForm(r,c){var m,f;const a=this.getData(),t={...r};switch(c){case"personal_info":break;case"job_details":a.position&&!t.jobTitle&&(t.jobTitle=a.position),a.department&&!t.department&&(t.department=a.department),a.hireDate&&!t.startDate&&(t.startDate=a.hireDate);break;case"i9_section1":a.firstName&&!t.employee_first_name&&(t.employee_first_name=a.firstName),a.lastName&&!t.employee_last_name&&(t.employee_last_name=a.lastName),a.middleInitial&&!t.employee_middle_initial&&(t.employee_middle_initial=a.middleInitial),a.dateOfBirth&&!t.date_of_birth&&(t.date_of_birth=a.dateOfBirth),a.ssn&&!t.ssn&&(t.ssn=a.ssn),a.email&&!t.email&&(t.email=a.email),a.phoneNumber&&!t.phone&&(t.phone=a.phoneNumber),a.streetAddress&&!t.address_street&&(t.address_street=a.streetAddress,t.address_apt=a.aptNumber||"",t.address_city=a.city,t.address_state=a.state,t.address_zip=a.zipCode);break;case"i9_supplement_a":break;case"i9_supplement_b":break;case"w4_form":a.firstName&&!t.first_name&&(t.first_name=a.firstName),a.lastName&&!t.last_name&&(t.last_name=a.lastName),a.middleInitial&&!t.middle_initial&&(t.middle_initial=a.middleInitial),a.streetAddress&&!t.address&&(t.address=a.streetAddress,t.city=a.city,t.state=a.state,t.zip_code=a.zipCode),a.ssn&&!t.ssn&&(t.ssn=a.ssn),a.maritalStatus&&!t.filing_status&&(a.maritalStatus==="married"?t.filing_status="Married filing jointly":a.maritalStatus==="single"&&(t.filing_status="Single"));break;case"direct_deposit":a.fullName&&!((m=t.primaryAccount)!=null&&m.accountHolderName)&&(t.primaryAccount={...t.primaryAccount,accountHolderName:a.fullName});break;case"emergency_contacts":a.streetAddress&&!((f=t.primaryContact)!=null&&f.address)&&(t.primaryContact={...t.primaryContact,address:a.streetAddress,city:a.city,state:a.state,zipCode:a.zipCode});break;case"health_insurance":a.firstName&&!t.employeeFirstName&&(t.employeeFirstName=a.firstName),a.lastName&&!t.employeeLastName&&(t.employeeLastName=a.lastName),a.dateOfBirth&&!t.employeeDateOfBirth&&(t.employeeDateOfBirth=a.dateOfBirth),a.ssn&&!t.employeeSSN&&(t.employeeSSN=a.ssn),a.gender&&!t.employeeGender&&(t.employeeGender=a.gender),a.maritalStatus==="married"&&a.spouseName&&!t.spouseName&&(t.spouseName=a.spouseName,t.spouseDateOfBirth=a.spouseDateOfBirth);break;case"company_policies":a.fullName&&!t.employeeName&&(t.employeeName=a.fullName);break;case"trafficking_awareness":a.fullName&&!t.participantName&&(t.participantName=a.fullName);break;case"background_check":a.firstName&&!t.firstName&&(t.firstName=a.firstName,t.lastName=a.lastName,t.middleInitial=a.middleInitial,t.dateOfBirth=a.dateOfBirth,t.ssn=a.ssn,t.address=a.streetAddress,t.city=a.city,t.state=a.state,t.zipCode=a.zipCode);break;case"photo_capture":a.fullName&&!t.employeeName&&(t.employeeName=a.fullName),a.employeeNumber&&!t.employeeNumber&&(t.employeeNumber=a.employeeNumber);break;case"employee_signature":a.fullName&&!t.employeeName&&(t.employeeName=a.fullName),a.position&&!t.position&&(t.position=a.position),a.hireDate&&!t.startDate&&(t.startDate=a.hireDate);break}return t}validateData(){try{const r=this.getData();return Object.keys(r).length>0?!!(r.firstName||r.lastName):!0}catch(r){return console.error("Data validation failed:",r),!1}}getCompletionPercentage(){const r=this.getData(),c=Object.keys(this.getEmptyAutoFillData()).length,a=Object.values(r).filter(t=>t&&t.toString().trim()!=="").length;return c>0?Math.round(a/c*100):0}getEmptyAutoFillData(){return{firstName:"",lastName:"",middleInitial:"",preferredName:"",fullName:"",dateOfBirth:"",ssn:"",email:"",phoneNumber:"",gender:"",maritalStatus:"",streetAddress:"",aptNumber:"",city:"",state:"",zipCode:"",position:"",department:"",hireDate:"",startDate:"",employeeNumber:"",emergencyContactName:"",emergencyContactPhone:"",emergencyContactRelationship:"",emergencyContactAddress:"",emergencyContactCity:"",emergencyContactState:"",emergencyContactZip:"",emergencyContact2Name:"",emergencyContact2Phone:"",emergencyContact2Relationship:"",bankName:"",accountType:"",dependentCount:0,spouseName:"",spouseDateOfBirth:"",citizenshipStatus:"",workAuthorizationExpiration:"",allergies:"",medications:"",medicalConditions:""}}clear(r=!1){if(!r)return console.warn("Auto-fill data clear requires user confirmation"),!1;this.data={};try{return localStorage.removeItem(this.STORAGE_KEY),localStorage.removeItem(this.BACKUP_KEY),localStorage.removeItem("onboarding_autofill"),!0}catch(c){return console.error("Failed to clear auto-fill data:",c),!1}}exportData(){try{const r=this.getData();return JSON.stringify(r,null,2)}catch(r){return console.error("Failed to export auto-fill data:",r),"{}"}}importData(r){try{const c=JSON.parse(r);return this.updateData(c),!0}catch(c){return console.error("Failed to import auto-fill data:",c),!1}}};K(M,"instance");let ae=M;const Ge=(s,r)=>{var m,f,n,x,o,F,u,g,y,k,A,_,d,O;const c=ae.getInstance();let a={};switch(r){case"personal_info":a={firstName:s.firstName,lastName:s.lastName,middleInitial:s.middleInitial,preferredName:s.preferredName,fullName:`${s.firstName} ${s.middleInitial?s.middleInitial+" ":""}${s.lastName}`.trim(),dateOfBirth:s.dateOfBirth,ssn:s.ssn,email:s.email,phoneNumber:s.phone,gender:s.gender,maritalStatus:s.maritalStatus,streetAddress:s.address,aptNumber:s.aptNumber,city:s.city,state:s.state,zipCode:s.zipCode};break;case"job_details":a={position:s.jobTitle||s.position,department:s.department,hireDate:s.hireDate,startDate:s.startDate,employeeNumber:s.employeeNumber};break;case"i9_section1":a={firstName:s.employee_first_name,lastName:s.employee_last_name,middleInitial:s.employee_middle_initial,fullName:`${s.employee_first_name} ${s.employee_middle_initial?s.employee_middle_initial+" ":""}${s.employee_last_name}`.trim(),dateOfBirth:s.date_of_birth,ssn:s.ssn,email:s.email,phoneNumber:s.phone,streetAddress:s.address_street,aptNumber:s.address_apt,city:s.address_city,state:s.address_state,zipCode:s.address_zip,citizenshipStatus:s.citizenship_status,workAuthorizationExpiration:s.work_authorization_expiration};break;case"w4_form":a={firstName:s.first_name,lastName:s.last_name,middleInitial:s.middle_initial,fullName:`${s.first_name} ${s.middle_initial?s.middle_initial+" ":""}${s.last_name}`.trim(),streetAddress:s.address,city:s.city,state:s.state,zipCode:s.zip_code,ssn:s.ssn,maritalStatus:(m=s.filing_status)!=null&&m.includes("Married")?"married":"single",dependentCount:(s.dependents_amount||0)/2e3};break;case"direct_deposit":a={bankName:(f=s.primaryAccount)==null?void 0:f.bankName,accountType:(n=s.primaryAccount)==null?void 0:n.accountType};break;case"emergency_contacts":a={emergencyContactName:(x=s.primaryContact)==null?void 0:x.name,emergencyContactPhone:(o=s.primaryContact)==null?void 0:o.phoneNumber,emergencyContactRelationship:(F=s.primaryContact)==null?void 0:F.relationship,emergencyContactAddress:(u=s.primaryContact)==null?void 0:u.address,emergencyContactCity:(g=s.primaryContact)==null?void 0:g.city,emergencyContactState:(y=s.primaryContact)==null?void 0:y.state,emergencyContactZip:(k=s.primaryContact)==null?void 0:k.zipCode,emergencyContact2Name:(A=s.secondaryContact)==null?void 0:A.name,emergencyContact2Phone:(_=s.secondaryContact)==null?void 0:_.phoneNumber,emergencyContact2Relationship:(d=s.secondaryContact)==null?void 0:d.relationship,allergies:s.allergies,medications:s.medications,medicalConditions:s.medicalConditions};break;case"health_insurance":a={dependentCount:((O=s.dependents)==null?void 0:O.length)||0,spouseName:s.spouseName,spouseDateOfBirth:s.spouseDateOfBirth};break;case"background_check":a={firstName:s.firstName,lastName:s.lastName,middleInitial:s.middleInitial,dateOfBirth:s.dateOfBirth,ssn:s.ssn,streetAddress:s.address,city:s.city,state:s.state,zipCode:s.zipCode};break;case"photo_capture":a={employeeNumber:s.employeeNumber};break}const t=Object.fromEntries(Object.entries(a).filter(([w,j])=>j!=null&&j!==""));return c.updateData(t),t},Ue=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];function Ss({initialData:s={},language:r,onSave:c,onNext:a,onBack:t,onValidationChange:m,useMainNavigation:f=!1}){const[n,x]=p.useState({firstName:"",lastName:"",middleInitial:"",preferredName:"",dateOfBirth:"",ssn:"",phone:"",email:"",address:"",aptNumber:"",city:"",state:"",zipCode:"",gender:"",maritalStatus:"",...s}),[o,F]=p.useState({}),[u,g]=p.useState({}),[y,k]=p.useState(!1),[A]=p.useState(()=>Re.getInstance()),[_,d]=p.useState({}),[O,w]=p.useState(!1),[j,P]=p.useState(!1),N=l=>({en:{personal_info:"Personal Information",personal_info_desc:"Please provide your personal information as it appears on your official documents.",basic_info:"Basic Information",first_name:"First Name",last_name:"Last Name",middle_initial:"Middle Initial",preferred_name:"Preferred Name",date_of_birth:"Date of Birth",ssn:"Social Security Number",contact_info:"Contact Information",phone:"Phone Number",email:"Email Address",address_info:"Address Information",address:"Street Address",apt_number:"Apt/Unit Number",city:"City",state:"State",zip_code:"ZIP Code",demographics:"Demographics (Optional)",gender:"Gender",marital_status:"Marital Status",male:"Male",female:"Female",other:"Other",prefer_not_say:"Prefer not to say",single:"Single",married:"Married",divorced:"Divorced",widowed:"Widowed",separated:"Separated",optional:"Optional",required:"Required",save_continue:"Save & Continue",back:"Back",privacy_notice:"Your personal information is protected and will only be used for employment purposes in accordance with our privacy policy."},es:{personal_info:"Información Personal",personal_info_desc:"Por favor proporcione su información personal tal como aparece en sus documentos oficiales.",basic_info:"Información Básica",first_name:"Primer Nombre",last_name:"Apellido",middle_initial:"Inicial del Segundo Nombre",preferred_name:"Nombre Preferido",date_of_birth:"Fecha de Nacimiento",ssn:"Número de Seguro Social",contact_info:"Información de Contacto",phone:"Número de Teléfono",email:"Dirección de Correo Electrónico",address_info:"Información de Dirección",address:"Dirección",apt_number:"Número de Apartamento/Unidad",city:"Ciudad",state:"Estado",zip_code:"Código Postal",demographics:"Demografía (Opcional)",gender:"Género",marital_status:"Estado Civil",male:"Masculino",female:"Femenino",other:"Otro",prefer_not_say:"Prefiero no decir",single:"Soltero(a)",married:"Casado(a)",divorced:"Divorciado(a)",widowed:"Viudo(a)",separated:"Separado(a)",optional:"Opcional",required:"Requerido",save_continue:"Guardar y Continuar",back:"Atrás",privacy_notice:"Su información personal está protegida y solo se utilizará para fines de empleo de acuerdo con nuestra política de privacidad."}})[r][l]||l;p.useEffect(()=>{if(!j){const l=de("personal_info"),S=A.validateForm(n,l);k(S.isValid),P(!0),m&&m(S.isValid,{})}},[n,j]),p.useEffect(()=>{j&&(O||Object.keys(_).length>0)&&$()},[n,O,_,j]),p.useEffect(()=>{["ssn","phone","zipCode"].forEach(S=>{if(n[S]){const E=A.formatField(n[S],S==="phone"?"phone":S==="ssn"?"ssn":"zipCode");E!==n[S]&&x(B=>({...B,[S]:E}))}})},[n.ssn,n.phone,n.zipCode]),p.useEffect(()=>{j&&Object.keys(_).length>0&&c(n)},[n,j,_,c]);const $=()=>{const l=de("personal_info"),S=A.validateForm(n,l),E={...S.errors},B={...S.warnings};if(n.dateOfBirth){const L=new Date(n.dateOfBirth),D=new Date,le=D.getFullYear()-L.getFullYear(),oe=D.getMonth()-L.getMonth();(oe<0||oe===0&&D.getDate()<L.getDate()?le-1:le)<18&&(E.dateOfBirth="Must be at least 18 years old for employment")}if(n.ssn){const L=n.ssn.replace(/-/g,"");(L.length!==9||!/^\d{9}$/.test(L))&&(E.ssn="SSN must be 9 digits (XXX-XX-XXXX)")}F(E),g(B),k(S.isValid&&Object.keys(E).length===0),m&&m(S.isValid&&Object.keys(E).length===0,{...E,...B})},i=(l,S)=>{let E=S;["ssn","phone","zipCode"].includes(l)&&(E=A.formatField(S,l==="phone"?"phone":l==="ssn"?"ssn":"zipCode")),x(B=>({...B,[l]:E})),d(B=>({...B,[l]:!0})),o[l]&&F(B=>({...B,[l]:""})),u[l]&&g(B=>({...B,[l]:""}))},b=l=>{d(S=>({...S,[l]:!0}))},R=()=>{w(!0),y&&(Ge(n,"personal_info"),c(n),!f&&a&&a())},C=l=>O||_[l];return e.jsxs("div",{className:"flex-container-adaptive",children:[e.jsxs("div",{className:"text-center container-responsive",children:[e.jsx(he,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-600 mx-auto mb-2"}),e.jsx("h2",{className:"sr-only text-responsive-lg font-bold text-gray-900",children:N("personal_info")}),e.jsx("p",{className:"sr-only text-responsive-base text-gray-600 mt-1 max-w-4xl mx-auto leading-relaxed",children:N("personal_info_desc")})]}),e.jsxs(J,{className:"flex-1 flex flex-col w-full max-w-none",children:[e.jsx(ee,{className:"flex-shrink-0",children:e.jsxs(se,{className:"flex items-center space-x-2",children:[e.jsx(he,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{children:N("basic_info")})]})}),e.jsxs(W,{className:"flex-1 spacing-responsive-md overflow-auto min-h-0",children:[e.jsxs("div",{className:"grid-responsive-forms",children:[e.jsxs("div",{className:"input-group",children:[e.jsxs(h,{htmlFor:"firstName",className:"text-responsive-sm font-medium block mb-1",children:[N("first_name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"firstName",value:n.firstName,onChange:l=>i("firstName",l.target.value),onBlur:()=>b("firstName"),className:`form-input-enhanced w-full ${C("firstName")&&o.firstName?"border-red-500":""}`,placeholder:""}),C("firstName")&&o.firstName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.firstName})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs(h,{htmlFor:"lastName",className:"text-responsive-sm font-medium block mb-1",children:[N("last_name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"lastName",value:n.lastName,onChange:l=>i("lastName",l.target.value),onBlur:()=>b("lastName"),className:`form-input-enhanced w-full ${C("lastName")&&o.lastName?"border-red-500":""}`,placeholder:""}),C("lastName")&&o.lastName&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.lastName})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(h,{htmlFor:"middleInitial",className:"text-responsive-sm font-medium block mb-1",children:N("middle_initial")}),e.jsx(v,{id:"middleInitial",value:n.middleInitial,onChange:l=>i("middleInitial",l.target.value.slice(0,1).toUpperCase()),placeholder:"",maxLength:1,className:"form-input-enhanced w-full"})]}),e.jsxs("div",{className:"input-group",children:[e.jsx(h,{htmlFor:"preferredName",className:"text-responsive-sm font-medium block mb-1",children:N("preferred_name")}),e.jsx(v,{id:"preferredName",value:n.preferredName,onChange:l=>i("preferredName",l.target.value),placeholder:"",className:"form-input-enhanced w-full"})]})]}),e.jsxs("div",{className:"grid-responsive-forms",children:[e.jsxs("div",{className:"input-group",children:[e.jsxs(h,{htmlFor:"dateOfBirth",className:"text-responsive-sm font-medium block mb-1",children:[N("date_of_birth")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"dateOfBirth",type:"date",value:n.dateOfBirth,onChange:l=>i("dateOfBirth",l.target.value),onBlur:()=>b("dateOfBirth"),className:`form-input-enhanced w-full ${C("dateOfBirth")&&o.dateOfBirth?"border-red-500":""}`,max:new Date(new Date().setFullYear(new Date().getFullYear()-16)).toISOString().split("T")[0]}),C("dateOfBirth")&&o.dateOfBirth&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.dateOfBirth})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs(h,{htmlFor:"ssn",className:"text-responsive-sm font-medium block mb-1",children:[N("ssn")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"ssn",value:n.ssn,onChange:l=>i("ssn",l.target.value),onBlur:()=>b("ssn"),className:`form-input-enhanced w-full ${C("ssn")&&o.ssn?"border-red-500":""}`,placeholder:"",maxLength:11}),C("ssn")&&o.ssn&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.ssn})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs(h,{htmlFor:"phone",className:"text-responsive-sm font-medium block mb-1",children:[N("phone")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"phone",value:n.phone,onChange:l=>i("phone",l.target.value),onBlur:()=>b("phone"),className:`form-input-enhanced w-full ${C("phone")&&o.phone?"border-red-500":""}`,placeholder:""}),C("phone")&&o.phone&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm mt-1",children:o.phone})]})]}),e.jsxs("div",{className:"input-group",children:[e.jsxs(h,{htmlFor:"email",className:"text-responsive-sm font-medium block mb-1",children:[N("email")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"email",type:"email",value:n.email,onChange:l=>i("email",l.target.value),onBlur:()=>b("email"),className:`form-input-enhanced w-full ${C("email")&&o.email?"border-red-500":""}`,placeholder:""}),C("email")&&o.email&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm mt-1",children:o.email})]}),e.jsxs("div",{className:"border-t pt-3 sm:pt-4 lg:pt-6 mt-3 sm:mt-4 lg:mt-6",children:[e.jsxs("h4",{className:"text-xs sm:text-sm lg:text-base font-semibold text-gray-700 mb-3 sm:mb-4 flex items-center",children:[e.jsx(Me,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),N("address_info")]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[e.jsxs(h,{htmlFor:"address",className:"text-xs sm:text-sm font-medium block mb-1",children:[N("address")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"address",value:n.address,onChange:l=>i("address",l.target.value),onBlur:()=>b("address"),className:`h-9 sm:h-10 lg:h-11 text-sm sm:text-base w-full ${C("address")&&o.address?"border-red-500":""}`,placeholder:""}),C("address")&&o.address&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm mt-1",children:o.address})]}),e.jsxs("div",{className:"sm:col-span-1 lg:col-span-1",children:[e.jsx(h,{htmlFor:"aptNumber",className:"text-xs sm:text-sm font-medium block mb-1",children:N("apt_number")}),e.jsx(v,{id:"aptNumber",value:n.aptNumber,onChange:l=>i("aptNumber",l.target.value),placeholder:"",className:"h-9 sm:h-10 lg:h-11 text-sm sm:text-base w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"sm:col-span-1",children:[e.jsxs(h,{htmlFor:"city",className:"text-xs sm:text-sm font-medium block mb-1",children:[N("city")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"city",value:n.city,onChange:l=>i("city",l.target.value),onBlur:()=>b("city"),className:`h-9 sm:h-10 lg:h-11 text-sm sm:text-base w-full ${C("city")&&o.city?"border-red-500":""}`,placeholder:""}),C("city")&&o.city&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm mt-1",children:o.city})]}),e.jsxs("div",{className:"sm:col-span-1 lg:col-span-1",children:[e.jsxs(h,{htmlFor:"state",className:"text-xs sm:text-sm font-medium block mb-1",children:[N("state")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Y,{value:n.state,onValueChange:l=>i("state",l),children:[e.jsx(G,{className:`h-9 sm:h-10 lg:h-11 text-sm sm:text-base w-full ${C("state")&&o.state?"border-red-500":""}`,children:e.jsx(U,{placeholder:"Select state"})}),e.jsx(q,{children:Ue.map(l=>e.jsx(I,{value:l,children:l},l))})]}),C("state")&&o.state&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm mt-1",children:o.state})]}),e.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[e.jsxs(h,{htmlFor:"zipCode",className:"text-xs sm:text-sm font-medium block mb-1",children:[N("zip_code")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(v,{id:"zipCode",value:n.zipCode,onChange:l=>i("zipCode",l.target.value),onBlur:()=>b("zipCode"),className:`h-9 sm:h-10 lg:h-11 text-sm sm:text-base w-full ${C("zipCode")&&o.zipCode?"border-red-500":""}`,placeholder:""}),C("zipCode")&&o.zipCode&&e.jsx("p",{className:"text-red-500 text-xs sm:text-sm mt-1",children:o.zipCode})]})]})]})]}),e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsxs("h4",{className:"text-xs font-semibold text-gray-700 mb-2",children:[N("demographics")," ",e.jsx("span",{className:"text-xs text-gray-500",children:"(Optional)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-xs font-medium",children:N("gender")}),e.jsxs(me,{value:n.gender,onValueChange:l=>i("gender",l),className:"flex flex-wrap gap-3 mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"male",id:"male",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"male",className:"text-xs",children:N("male")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"female",id:"female",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"female",className:"text-xs",children:N("female")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"other",id:"other",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"other",className:"text-xs",children:N("other")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"prefer_not_say",id:"prefer_not_say",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"prefer_not_say",className:"text-xs",children:N("prefer_not_say")})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{className:"text-xs font-medium",children:N("marital_status")}),e.jsxs(me,{value:n.maritalStatus,onValueChange:l=>i("maritalStatus",l),className:"flex flex-wrap gap-3 mt-1",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"single",id:"single",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"single",className:"text-xs",children:N("single")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"married",id:"married",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"married",className:"text-xs",children:N("married")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"divorced",id:"divorced",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"divorced",className:"text-xs",children:N("divorced")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"widowed",id:"widowed",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"widowed",className:"text-xs",children:N("widowed")})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(z,{value:"separated",id:"separated",className:"h-3 w-3"}),e.jsx(h,{htmlFor:"separated",className:"text-xs",children:N("separated")})]})]})]})]})]})]})]}),Object.keys(u).length>0&&e.jsxs(X,{className:"bg-yellow-50 border-yellow-200 py-1",children:[e.jsx(fe,{className:"h-3 w-3 text-yellow-600"}),e.jsx(Z,{className:"text-xs",children:Object.values(u).map((l,S)=>e.jsx("p",{className:"text-yellow-800",children:l},S))})]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center space-x-1",children:[e.jsx($e,{className:"h-3 w-3"}),e.jsx("span",{children:N("privacy_notice")})]}),!f&&e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[t&&e.jsx(T,{variant:"outline",onClick:t,size:"sm",children:N("back")}),e.jsx(T,{onClick:R,className:"px-6",size:"sm",disabled:!y,children:N("save_continue")})]}),f&&e.jsx(T,{onClick:R,className:"hidden",disabled:!y,children:"Save Personal Info"}),e.jsx("div",{className:"hidden","data-form-valid":y,"data-form-errors":JSON.stringify(o)})]})}const xe=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"];function Fs({initialData:s={},language:r,onSave:c,onNext:a,onBack:t,onValidationChange:m,useMainNavigation:f=!1}){const[n,x]=p.useState({primaryContact:{name:"",relationship:"",phoneNumber:"",alternatePhone:"",address:"",city:"",state:"",zipCode:"",...(s==null?void 0:s.primaryContact)||{}},secondaryContact:{name:"",relationship:"",phoneNumber:"",alternatePhone:"",address:"",city:"",state:"",zipCode:"",...(s==null?void 0:s.secondaryContact)||{}},medicalInfo:(s==null?void 0:s.medicalInfo)||"",allergies:(s==null?void 0:s.allergies)||"",medications:(s==null?void 0:s.medications)||"",medicalConditions:(s==null?void 0:s.medicalConditions)||""}),[o,F]=p.useState({}),[u,g]=p.useState({}),[y,k]=p.useState(!1),[A,_]=p.useState(!1),d=i=>{var R;return((R={en:{emergency_contacts:"Emergency Contacts",emergency_contacts_desc:"Provide contact information for people we should reach in case of emergency.",primary_contact:"Primary Emergency Contact",secondary_contact:"Secondary Emergency Contact",contact_name:"Full Name",relationship:"Relationship",phone_number:"Phone Number",alternate_phone:"Alternate Phone",address:"Address",city:"City",state:"State",zip_code:"ZIP Code",medical_information:"Medical Information (Optional)",allergies:"Allergies",medications:"Current Medications",medical_conditions:"Medical Conditions",required_field:"This field is required",invalid_phone:"Please enter a valid phone number",next:"Next",back:"Back",save_continue:"Save & Continue","relationships.spouse":"Spouse","relationships.parent":"Parent","relationships.child":"Child","relationships.sibling":"Sibling","relationships.friend":"Friend","relationships.other":"Other"},es:{emergency_contacts:"Contactos de Emergencia",emergency_contacts_desc:"Proporcione información de contacto de personas a las que deberíamos comunicarnos en caso de emergencia.",primary_contact:"Contacto de Emergencia Principal",secondary_contact:"Contacto de Emergencia Secundario",contact_name:"Nombre Completo",relationship:"Relación",phone_number:"Número de Teléfono",next:"Siguiente",back:"Atrás",save_continue:"Guardar y Continuar"}}[r])==null?void 0:R[i])||i},O=()=>{const i={};n.primaryContact.name.trim()||(i["primaryContact.name"]=d("required_field")),n.primaryContact.relationship.trim()||(i["primaryContact.relationship"]=d("required_field")),n.primaryContact.phoneNumber.trim()||(i["primaryContact.phoneNumber"]=d("required_field")),F(i);const b=Object.keys(i).length===0;return _(b),m&&m(b,i),b};p.useEffect(()=>{O()},[n.primaryContact.name,n.primaryContact.relationship,n.primaryContact.phoneNumber]),p.useEffect(()=>{Object.keys(u).length>0&&c(n)},[n,u,c]);const w=(i,b,R)=>{x(l=>({...l,[i]:{...l[i],[b]:R}}));const C=`${i}.${b}`;g(l=>({...l,[C]:!0})),o[C]&&F(l=>({...l,[C]:""}))},j=i=>{g(b=>({...b,[i]:!0}))},P=i=>y||u[i],N=()=>{k(!0),O()&&(c(n),!f&&a&&a())},$=i=>i.replace(/\D/g,"").slice(0,10);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx(pe,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("h2",{className:"sr-only text-xl font-bold text-gray-900",children:d("emergency_contacts")}),e.jsx("p",{className:"sr-only text-gray-600 text-sm mt-1",children:d("emergency_contacts_desc")})]}),e.jsxs(J,{children:[e.jsx(ee,{className:"pb-3",children:e.jsxs(se,{className:"flex items-center space-x-2 text-lg",children:[e.jsx(pe,{className:"h-4 w-4"}),e.jsx("span",{children:"Emergency Contacts"})]})}),e.jsx(W,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:divide-x lg:divide-gray-200",children:[e.jsxs("div",{className:"space-y-3 lg:pr-6",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-700 border-b pb-1",children:d("primary_contact")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs(h,{htmlFor:"primary_name",className:"text-sm",children:[d("contact_name")," *"]}),e.jsx(v,{id:"primary_name",value:n.primaryContact.name,onChange:i=>w("primaryContact","name",i.target.value),onBlur:()=>j("primaryContact.name"),className:P("primaryContact.name")&&o["primaryContact.name"]?"border-red-500":"",placeholder:"",size:"sm"}),P("primaryContact.name")&&o["primaryContact.name"]&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:o["primaryContact.name"]})]}),e.jsxs("div",{children:[e.jsxs(h,{htmlFor:"primary_relationship",className:"text-sm",children:[d("relationship")," *"]}),e.jsxs(Y,{value:n.primaryContact.relationship,onValueChange:i=>w("primaryContact","relationship",i),children:[e.jsx(G,{className:P("primaryContact.relationship")&&o["primaryContact.relationship"]?"border-red-500 h-8":"h-8",children:e.jsx(U,{placeholder:"Select relationship"})}),e.jsxs(q,{children:[e.jsx(I,{value:"spouse",children:d("relationships.spouse")}),e.jsx(I,{value:"parent",children:d("relationships.parent")}),e.jsx(I,{value:"child",children:d("relationships.child")}),e.jsx(I,{value:"sibling",children:d("relationships.sibling")}),e.jsx(I,{value:"friend",children:d("relationships.friend")}),e.jsx(I,{value:"other",children:d("relationships.other")})]})]}),P("primaryContact.relationship")&&o["primaryContact.relationship"]&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:o["primaryContact.relationship"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsxs(h,{htmlFor:"primary_phone",className:"text-sm",children:[d("phone_number")," *"]}),e.jsx(v,{id:"primary_phone",value:n.primaryContact.phoneNumber,onChange:i=>w("primaryContact","phoneNumber",$(i.target.value)),onBlur:()=>j("primaryContact.phoneNumber"),className:P("primaryContact.phoneNumber")&&o["primaryContact.phoneNumber"]?"border-red-500":"",placeholder:"",maxLength:10,size:"sm"}),P("primaryContact.phoneNumber")&&o["primaryContact.phoneNumber"]&&e.jsx("p",{className:"text-red-600 text-xs mt-1",children:o["primaryContact.phoneNumber"]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"primary_alternate",className:"text-sm",children:d("alternate_phone")}),e.jsx(v,{id:"primary_alternate",value:n.primaryContact.alternatePhone,onChange:i=>w("primaryContact","alternatePhone",$(i.target.value)),onBlur:()=>j("primaryContact.alternatePhone"),placeholder:"",maxLength:10,size:"sm"})]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"primary_address",className:"text-sm",children:d("address")}),e.jsx(v,{id:"primary_address",value:n.primaryContact.address,onChange:i=>w("primaryContact","address",i.target.value),onBlur:()=>j("primaryContact.address"),placeholder:"",size:"sm"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"primary_city",className:"text-sm",children:d("city")}),e.jsx(v,{id:"primary_city",value:n.primaryContact.city,onChange:i=>w("primaryContact","city",i.target.value),onBlur:()=>j("primaryContact.city"),placeholder:"",size:"sm"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"primary_state",className:"text-sm",children:d("state")}),e.jsxs(Y,{value:n.primaryContact.state,onValueChange:i=>w("primaryContact","state",i),children:[e.jsx(G,{className:"h-8",children:e.jsx(U,{placeholder:"Select state"})}),e.jsx(q,{children:xe.map(i=>e.jsx(I,{value:i,children:i},i))})]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"primary_zip",className:"text-sm",children:d("zip_code")}),e.jsx(v,{id:"primary_zip",value:n.primaryContact.zipCode,onChange:i=>w("primaryContact","zipCode",i.target.value.replace(/\D/g,"").slice(0,5)),onBlur:()=>j("primaryContact.zipCode"),placeholder:"",maxLength:5,size:"sm"})]})]})]}),e.jsxs("div",{className:"space-y-3 lg:pl-6",children:[e.jsxs("h4",{className:"font-medium text-sm text-gray-700 border-b pb-1",children:[d("secondary_contact")," ",e.jsx("span",{className:"text-xs text-gray-500",children:"(Optional)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"secondary_name",className:"text-sm",children:d("contact_name")}),e.jsx(v,{id:"secondary_name",value:n.secondaryContact.name,onChange:i=>w("secondaryContact","name",i.target.value),onBlur:()=>j("secondaryContact.name"),placeholder:"",size:"sm"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"secondary_relationship",className:"text-sm",children:d("relationship")}),e.jsxs(Y,{value:n.secondaryContact.relationship,onValueChange:i=>w("secondaryContact","relationship",i),children:[e.jsx(G,{className:"h-8",children:e.jsx(U,{placeholder:"Select relationship"})}),e.jsxs(q,{children:[e.jsx(I,{value:"spouse",children:d("relationships.spouse")}),e.jsx(I,{value:"parent",children:d("relationships.parent")}),e.jsx(I,{value:"child",children:d("relationships.child")}),e.jsx(I,{value:"sibling",children:d("relationships.sibling")}),e.jsx(I,{value:"friend",children:d("relationships.friend")}),e.jsx(I,{value:"other",children:d("relationships.other")})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"secondary_phone",className:"text-sm",children:d("phone_number")}),e.jsx(v,{id:"secondary_phone",value:n.secondaryContact.phoneNumber,onChange:i=>w("secondaryContact","phoneNumber",$(i.target.value)),onBlur:()=>j("secondaryContact.phoneNumber"),placeholder:"",maxLength:10,size:"sm"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"secondary_alternate",className:"text-sm",children:d("alternate_phone")}),e.jsx(v,{id:"secondary_alternate",value:n.secondaryContact.alternatePhone,onChange:i=>w("secondaryContact","alternatePhone",$(i.target.value)),onBlur:()=>j("secondaryContact.alternatePhone"),placeholder:"",maxLength:10,size:"sm"})]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"secondary_address",className:"text-sm",children:d("address")}),e.jsx(v,{id:"secondary_address",value:n.secondaryContact.address,onChange:i=>w("secondaryContact","address",i.target.value),onBlur:()=>j("secondaryContact.address"),placeholder:"",size:"sm"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"secondary_city",className:"text-sm",children:d("city")}),e.jsx(v,{id:"secondary_city",value:n.secondaryContact.city,onChange:i=>w("secondaryContact","city",i.target.value),onBlur:()=>j("secondaryContact.city"),placeholder:"",size:"sm"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"secondary_state",className:"text-sm",children:d("state")}),e.jsxs(Y,{value:n.secondaryContact.state,onValueChange:i=>w("secondaryContact","state",i),children:[e.jsx(G,{className:"h-8",children:e.jsx(U,{placeholder:"Select state"})}),e.jsx(q,{children:xe.map(i=>e.jsx(I,{value:i,children:i},i))})]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"secondary_zip",className:"text-sm",children:d("zip_code")}),e.jsx(v,{id:"secondary_zip",value:n.secondaryContact.zipCode,onChange:i=>w("secondaryContact","zipCode",i.target.value.replace(/\D/g,"").slice(0,5)),onBlur:()=>j("secondaryContact.zipCode"),placeholder:"",maxLength:5,size:"sm"})]})]})]})]})})]}),e.jsxs(J,{children:[e.jsx(ee,{className:"pb-3",children:e.jsx(se,{className:"text-lg",children:d("medical_information")})}),e.jsx(W,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"allergies",className:"text-sm",children:d("allergies")}),e.jsx("textarea",{id:"allergies",value:n.allergies,onChange:i=>x(b=>({...b,allergies:i.target.value})),onBlur:()=>j("allergies"),className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",rows:2,placeholder:""})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"medications",className:"text-sm",children:d("medications")}),e.jsx("textarea",{id:"medications",value:n.medications,onChange:i=>x(b=>({...b,medications:i.target.value})),onBlur:()=>j("medications"),className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",rows:2,placeholder:""})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"medicalConditions",className:"text-sm",children:d("medical_conditions")}),e.jsx("textarea",{id:"medicalConditions",value:n.medicalConditions,onChange:i=>x(b=>({...b,medicalConditions:i.target.value})),onBlur:()=>j("medicalConditions"),className:"w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-sm",rows:2,placeholder:""})]})]})})]}),e.jsxs(X,{className:"py-2",children:[e.jsx(Ne,{className:"h-3 w-3"}),e.jsx(Z,{className:"text-xs",children:"Emergency contact information is confidential and used only in emergencies. Provide contacts readily available and authorized to make decisions."})]}),!f&&e.jsxs("div",{className:"flex justify-between items-center pt-4",children:[e.jsx(T,{variant:"outline",onClick:t,size:"sm",children:d("back")}),e.jsx(T,{onClick:N,className:"px-6",size:"sm",children:d("save_continue")})]}),f&&e.jsx(T,{onClick:N,className:"hidden",disabled:!A,children:"Save Emergency Contacts"})]})}var Q="Collapsible",[qe,Os]=Oe(Q),[He,re]=qe(Q),ge=p.forwardRef((s,r)=>{const{__scopeCollapsible:c,open:a,defaultOpen:t,disabled:m,onOpenChange:f,...n}=s,[x,o]=Fe({prop:a,defaultProp:t??!1,onChange:f,caller:Q});return e.jsx(He,{scope:c,disabled:m,contentId:ke(),open:x,onOpenToggle:p.useCallback(()=>o(F=>!F),[o]),children:e.jsx(te.div,{"data-state":ie(x),"data-disabled":m?"":void 0,...n,ref:r})})});ge.displayName=Q;var ye="CollapsibleTrigger",je=p.forwardRef((s,r)=>{const{__scopeCollapsible:c,...a}=s,t=re(ye,c);return e.jsx(te.button,{type:"button","aria-controls":t.contentId,"aria-expanded":t.open||!1,"data-state":ie(t.open),"data-disabled":t.disabled?"":void 0,disabled:t.disabled,...a,ref:r,onClick:Ae(s.onClick,t.onOpenToggle)})});je.displayName=ye;var ne="CollapsibleContent",be=p.forwardRef((s,r)=>{const{forceMount:c,...a}=s,t=re(ne,s.__scopeCollapsible);return e.jsx(Ie,{present:c||t.open,children:({present:m})=>e.jsx(Je,{...a,ref:r,present:m})})});be.displayName=ne;var Je=p.forwardRef((s,r)=>{const{__scopeCollapsible:c,present:a,children:t,...m}=s,f=re(ne,c),[n,x]=p.useState(a),o=p.useRef(null),F=Ee(r,o),u=p.useRef(0),g=u.current,y=p.useRef(0),k=y.current,A=f.open||n,_=p.useRef(A),d=p.useRef(void 0);return p.useEffect(()=>{const O=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(O)},[]),Be(()=>{const O=o.current;if(O){d.current=d.current||{transitionDuration:O.style.transitionDuration,animationName:O.style.animationName},O.style.transitionDuration="0s",O.style.animationName="none";const w=O.getBoundingClientRect();u.current=w.height,y.current=w.width,_.current||(O.style.transitionDuration=d.current.transitionDuration,O.style.animationName=d.current.animationName),x(a)}},[f.open,a]),e.jsx(te.div,{"data-state":ie(f.open),"data-disabled":f.disabled?"":void 0,id:f.contentId,hidden:!A,...m,ref:F,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...s.style},children:A&&t})});function ie(s){return s?"open":"closed"}var We=ge;const Xe=We,Ze=je,Qe=be;function ks({title:s,description:r,icon:c,children:a,collapsible:t=!1,defaultOpen:m=!0,badge:f,badgeVariant:n="default",required:x=!1,completed:o=!1,className:F,headerClassName:u,contentClassName:g}){const[y,k]=p.useState(m),A=e.jsx("div",{className:V("flex items-start justify-between gap-4 p-6",t&&"cursor-pointer hover:bg-gray-50 transition-colors",u),children:e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[c&&e.jsx("div",{className:"mt-0.5 text-gray-500",children:c}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[s,x&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),f&&e.jsx(ue,{variant:n,className:"ml-2",children:f}),o&&e.jsx(ue,{variant:"success",className:"ml-2",children:"Completed"})]}),r&&e.jsx("p",{className:"text-sm text-gray-600",children:r})]}),t&&e.jsx("div",{className:"mt-1",children:y?e.jsx(Le,{className:"h-5 w-5 text-gray-400 transition-transform"}):e.jsx(Ve,{className:"h-5 w-5 text-gray-400 transition-transform"})})]})}),_=e.jsx("div",{className:V("px-6 pb-6",g),children:a});return t?e.jsx("div",{className:V("bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden transition-all duration-200",o&&"border-green-200 bg-green-50/30",F),children:e.jsxs(Xe,{open:y,onOpenChange:k,children:[e.jsx(Ze,{asChild:!0,children:A}),e.jsx(Qe,{children:_})]})}):e.jsxs("div",{className:V("bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",o&&"border-green-200 bg-green-50/30",F),children:[A,_]})}export{js as A,Fs as E,ks as F,Ss as P,_s as S,vs as V,Cs as a,bs as s,ws as u};
