import{j as e}from"./radixUI-MBKqlelr.js";import{i as Hs,a as i}from"./vendor-BQUE8CnD.js";import{C as Qe,b as Ze,c as Ye,a as We}from"./card-0UsC1Hfx.js";import{u as Js,B as m,g as _e}from"./index-BX3Jf5rY.js";import{I as V}from"./input-C7n7UaRv.js";import{B as ue}from"./badge-DbL2e8Dt.js";import{D as G,b as X,c as K,d as ee}from"./dialog-BrcI6BMt.js";import{S as R,a as F,b as E,c as B,d as c}from"./select-CHEqtOpE.js";import{S as Ge,T as Qs,a as Zs,b as Pe,c as U,d as Ys,e as M}from"./table-B6NKxQYn.js";import{T as Te}from"./textarea-DeiWvvAb.js";import{L as l}from"./label-BGHhm9HA.js";import{F as Ws,D as Gs}from"./data-table-CtJP2mtE.js";import{T as Xs,a as Ks,b as Xe,c as Ke}from"./tabs-CTtBr4tg.js";import{C as we}from"./checkbox-CzwSq1oz.js";import{Q as ea}from"./qr-code-display-13m4lBF-.js";import{E as es}from"./eye-6Y9sbcRx.js";import{C as ss}from"./clock-DuORzYmm.js";import{C as as}from"./circle-check-big-D7qwqCjm.js";import{C as ts}from"./circle-x-B7c9D1w4.js";import{R as ls}from"./rotate-ccw-BXdVcjfo.js";import{U as De}from"./users-DJfJLhR6.js";import{R as sa}from"./refresh-cw-FCIZnuDU.js";import{M as aa}from"./mail-BXPjmS9p.js";import"./utils-Co3JUx4V.js";import"./chevron-down-BIP_RoMW.js";import"./check-CrQWtsni.js";import"./chevron-right-D20CZ_0W.js";import"./trending-up-DZykrMLX.js";import"./separator-BW__RCi5.js";import"./save-CkQaEi9A.js";import"./trash-2-CRAWfZhR.js";import"./plus-_zwNWoy_.js";import"./download-DxzIzwbA.js";import"./file-text-lgpzM1Mh.js";import"./settings-BNPlDAeK.js";import"./copy-Bygxza59.js";function za({userRole:is,propertyId:ns,onStatsUpdate:rs}){let y;try{y=Hs()}catch{console.log("ApplicationsTab: No outlet context available")}const h=is||(y==null?void 0:y.userRole)||"hr";ns||(y==null||y.propertyId);const se=y==null?void 0:y.property,k=rs||(y==null?void 0:y.onStatsUpdate)||(()=>{}),{user:ta,token:w}=Js(),[H,os]=i.useState([]),[S,cs]=i.useState([]),[je,Re]=i.useState(!0),[ds,Fe]=i.useState(!1),[ae,Ee]=i.useState(""),[J,Be]=i.useState("all"),[Q,Oe]=i.useState("all"),[Z,Me]=i.useState("all"),[ge,$e]=i.useState("applied_at"),[Se,Ie]=i.useState("desc"),[ye,ps]=i.useState(!1),[n,O]=i.useState(null),[d,hs]=i.useState(null),[ms,Ce]=i.useState(!1),[xs,ze]=i.useState(!1),[us,fe]=i.useState(!1),[js,le]=i.useState(!1),[ie,ke]=i.useState(""),[b,A]=i.useState(!1),[ve,gs]=i.useState([]),[ne,ys]=i.useState("applications"),[re,fs]=i.useState(""),[oe,vs]=i.useState("all"),[ce,bs]=i.useState("all"),[de,Ns]=i.useState("all"),[f,te]=i.useState([]),[_s,pe]=i.useState(!1),[Y,Le]=i.useState("email"),[$,he]=i.useState([]),[ws,be]=i.useState(!1),[v,me]=i.useState({new_status:"",reason:"",notes:""}),[o,P]=i.useState({job_title:"",start_date:"",start_time:"",pay_rate:"",pay_frequency:"bi-weekly",benefits_eligible:"yes",supervisor:"",special_instructions:""}),C=async()=>{var s;try{Re(!0);const r=h==="hr"?"/api/hr/applications":"/api/manager/applications";console.log("ðŸ” Fetching applications:",{userRole:h,endpoint:r,token:w?`${w.substring(0,20)}...`:"No token"});const a=await _e.get(r,{params:{search:ae||void 0,status:J!=="all"?J:void 0,department:Q!=="all"?Q:void 0,property_id:h==="hr"&&Z!=="all"?Z:void 0}}),t=Array.isArray(a.data)?a.data:Array.isArray((s=a.data)==null?void 0:s.data)?a.data.data:[];console.log("âœ… Applications fetched:",{count:t.length,pending:t.filter(N=>N.status==="pending").length});let x=[...t];x.sort((N,T)=>{let u=N[ge]||"",j=T[ge]||"";return typeof u=="string"&&typeof j=="string"&&(u=u.toLowerCase(),j=j.toLowerCase()),Se==="asc"?u<j?-1:u>j?1:0:u>j?-1:u<j?1:0}),os(x)}catch(r){console.error("Error fetching applications:",r)}finally{Re(!1)}},Ne=async()=>{try{Fe(!0);let a=(await _e.get("/api/hr/applications/talent-pool",{params:{property_id:h==="hr"&&ce!=="all"?ce:void 0,department:oe!=="all"?oe:void 0,position:de!=="all"?de:void 0}})).data.applications||[];if(re){const t=re.toLowerCase();a=a.filter(x=>{var N,T,u,j,I,z;return((N=x.applicant_data.first_name)==null?void 0:N.toLowerCase().includes(t))||((T=x.applicant_data.last_name)==null?void 0:T.toLowerCase().includes(t))||((u=x.applicant_data.email)==null?void 0:u.toLowerCase().includes(t))||((j=x.position)==null?void 0:j.toLowerCase().includes(t))||((I=x.department)==null?void 0:I.toLowerCase().includes(t))||((z=x.property_name)==null?void 0:z.toLowerCase().includes(t))})}cs(a)}catch(s){console.error("Error fetching talent pool candidates:",s)}finally{Fe(!1)}},Ss=async()=>{try{const s=await _e.get("/api/hr/properties"),r=s.data.data||s.data;gs(Array.isArray(r)?r:[])}catch(s){console.error("Error fetching properties:",s)}};i.useEffect(()=>{C(),h==="hr"&&Ss()},[ae,J,Q,Z,ge,Se]),i.useEffect(()=>{const s=setInterval(()=>{C()},3e4);return()=>clearInterval(s)},[]),i.useEffect(()=>{ne==="talent-pool"&&Ne()},[ne,re,oe,ce,de]);const Cs=()=>{Ee(""),Be("all"),Oe("all"),Me("all"),$e("applied_at"),Ie("desc")},Ae=i.useMemo(()=>[...new Set(H.map(s=>s.department).filter(Boolean))].sort(),[H]),ks=i.useMemo(()=>[...new Set(S.map(s=>s.department).filter(Boolean))].sort(),[S]),As=i.useMemo(()=>[...new Set(S.map(s=>s.position).filter(Boolean))].sort(),[S]),Ps=async()=>{var t,x,N,T,u,j,I,z,g,_;if(!n)return;if(console.log("ðŸ” DEBUG: Starting approval process"),console.log("Selected application:",n),console.log("Job offer data:",o),console.log("User role:",h),console.log("Token:",w?`${w.substring(0,20)}...`:"No token"),n.status!=="pending"){console.log("âŒ Application is not pending:",n.status),alert("This application is no longer pending and cannot be approved. Refreshing the list..."),C(),le(!1),O(null);return}const s={job_title:"Job Title",start_date:"Start Date",start_time:"Start Time",pay_rate:"Pay Rate",pay_frequency:"Pay Frequency",benefits_eligible:"Benefits Eligible",supervisor:"Supervisor"},r=[];for(const[p,D]of Object.entries(s))(!o[p]||o[p].toString().trim()==="")&&r.push(D);if(r.length>0){alert(`Please fill in the following required fields:
â€¢ ${r.join(`
â€¢ `)}`);return}const a=parseFloat(o.pay_rate);if(isNaN(a)||a<=0){alert("Please enter a valid pay rate (must be a positive number)");return}try{A(!0);const p=new FormData;Object.entries(o).forEach(([L,q])=>{console.log(`Adding to FormData: ${L} = "${q}"`),p.append(L,q)}),console.log("ðŸš€ Making approval request to:",`/applications/${n.id}/approve`);const D=await _e.post(`/api/applications/${n.id}/approve`,p,{headers:{Authorization:`Bearer ${w}`,"Content-Type":"multipart/form-data"}});console.log("âœ… Approval successful:",D.data),le(!1),P({job_title:"",start_date:"",start_time:"",pay_rate:"",pay_frequency:"bi-weekly",benefits_eligible:"yes",supervisor:"",special_instructions:""}),O(null),C(),k&&k()}catch(p){console.error("âŒ Error approving application:",p),console.log("Error details:",{status:(t=p.response)==null?void 0:t.status,statusText:(x=p.response)==null?void 0:x.statusText,data:(N=p.response)==null?void 0:N.data,headers:(T=p.response)==null?void 0:T.headers,config:p.config});let D="Error approving application. Please try again.";((u=p.response)==null?void 0:u.status)===422?(console.log("422 Validation Error Details:",p.response.data),D="Invalid application data. Please check all required fields are filled.",(j=p.response.data)!=null&&j.detail&&Array.isArray(p.response.data.detail)&&(console.log("Validation errors:"),p.response.data.detail.forEach(L=>{var q;console.log(`  - ${(q=L.loc)==null?void 0:q.join(" -> ")}: ${L.msg} (input: ${L.input})`)}))):((I=p.response)==null?void 0:I.status)===404?(D="Application not found. It may have been deleted or processed by another user. Refreshing the list...",C()):((z=p.response)==null?void 0:z.status)===403?D="Access denied. You may not have permission to approve this application.":(_=(g=p.response)==null?void 0:g.data)!=null&&_.detail&&(D=p.response.data.detail),alert(D)}finally{A(!1)}},Ts=async()=>{var s,r,a,t,x,N,T,u,j,I,z;if(!n||!ie.trim()){alert("Please enter a rejection reason.");return}if(n.status!=="pending"){alert(`Cannot reject application. Current status: ${n.status}`);return}try{A(!0),console.log("Rejecting application:",{id:n.id,status:n.status,reason:ie.trim()});const g=new FormData;g.append("rejection_reason",ie.trim());const _=await axios.post(`/api/applications/${n.id}/reject`,g,{headers:{Authorization:`Bearer ${w}`,"Content-Type":"multipart/form-data"}});console.log("Rejection successful:",_.data),fe(!1),ke(""),O(null),C(),k&&k(),((s=_.data)==null?void 0:s.status)==="talent_pool"&&alert("Application rejected and moved to talent pool successfully!")}catch(g){console.error("Error rejecting application:",g),console.error("Error details:",{status:(r=g.response)==null?void 0:r.status,data:(a=g.response)==null?void 0:a.data,headers:(t=g.response)==null?void 0:t.headers});let _="Error rejecting application. Please try again.";if(((x=g.response)==null?void 0:x.status)===422){const p=(T=(N=g.response)==null?void 0:N.data)==null?void 0:T.detail;Array.isArray(p)?_=`Validation error: Missing or invalid fields: ${p.map(L=>{var q;return((q=L.loc)==null?void 0:q.join("."))||"unknown"}).join(", ")}`:_="Invalid application data. The application may have already been processed."}else((u=g.response)==null?void 0:u.status)===404?_="Application not found. It may have been deleted or processed by another user.":((j=g.response)==null?void 0:j.status)===403?_="Access denied. You may not have permission to reject this application.":(z=(I=g.response)==null?void 0:I.data)!=null&&z.detail&&(_=g.response.data.detail);alert(_),C()}finally{A(!1)}},Ds=async()=>{if(f.length!==0)try{if(A(!0),Y==="email"){const s=await axios.post("/api/hr/applications/bulk-talent-pool-notify",{application_ids:f},{headers:{Authorization:`Bearer ${w}`}});alert(`Email notifications sent to ${f.length} candidates`)}else if(Y==="reactivate"){const s=await axios.post("/api/hr/applications/bulk-reactivate",{application_ids:f},{headers:{Authorization:`Bearer ${w}`}});alert(`${f.length} candidates reactivated`),Ne(),C()}te([]),pe(!1),k&&k()}catch(s){console.error("Error performing bulk action:",s),alert("Error performing bulk action. Please try again.")}finally{A(!1)}},Rs=(s,r)=>{te(r?a=>[...a,s]:a=>a.filter(t=>t!==s))},Fs=s=>{te(s?S.map(r=>r.id):[])},qe=async(s,r,a)=>{try{A(!0);const t=new FormData;t.append("application_ids",s),t.append("new_status",r),t.append("reason",a),await axios.post("/api/hr/applications/bulk-status-update",t,{headers:{Authorization:`Bearer ${w}`}}),C(),ne==="talent-pool"&&Ne(),k&&k()}catch(t){console.error("Error updating application status:",t),alert("Error updating application status. Please try again.")}finally{A(!1)}},[Ve,Ue]=i.useState([]),[Es,He]=i.useState(!1),[Bs,Je]=i.useState(!1),Os=async s=>{try{Je(!0);const r=await axios.get(`/api/hr/applications/${s}/history`,{headers:{Authorization:`Bearer ${w}`}});Ue(r.data.history||[])}catch(r){console.error("Error fetching application history:",r),Ue([])}finally{Je(!1)}},Ms=s=>{O(s),He(!0),Os(s.id)},$s=(s,r)=>{he(r?a=>[...a,s]:a=>a.filter(t=>t!==s))},Is=s=>{he(s?H.map(r=>r.id):[])},zs=async()=>{if(!($.length===0||!v.new_status))try{A(!0);const s=new FormData;$.forEach(r=>s.append("application_ids",r)),s.append("new_status",v.new_status),v.reason&&s.append("reason",v.reason),v.notes&&s.append("notes",v.notes),await axios.post("/api/hr/applications/bulk-status-update",s,{headers:{Authorization:`Bearer ${w}`}}),he([]),be(!1),me({new_status:"",reason:"",notes:""}),C(),ne==="talent-pool"&&Ne(),k&&k(),alert(`${$.length} applications updated successfully`)}catch(s){console.error("Error performing bulk status update:",s),alert("Error performing bulk status update. Please try again.")}finally{A(!1)}},xe=s=>{switch(s){case"pending":return e.jsxs(ue,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:[e.jsx(ss,{className:"w-3 h-3 mr-1"}),"Pending"]});case"approved":return e.jsxs(ue,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(as,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return e.jsxs(ue,{variant:"outline",className:"text-red-600 border-red-600",children:[e.jsx(ts,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"talent_pool":return e.jsxs(ue,{variant:"outline",className:"text-blue-600 border-blue-600",children:[e.jsx(De,{className:"w-3 h-3 mr-1"}),"Talent Pool"]});default:return e.jsx(ue,{variant:"outline",children:s})}},W=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ls=i.useMemo(()=>{const s=[{key:"select",label:e.jsx(we,{checked:$.length===H.length&&H.length>0,onCheckedChange:Is}),sortable:!1,render:(r,a)=>e.jsx(we,{checked:$.includes(a.id),onCheckedChange:t=>$s(a.id,t)})},{key:"applicant_name",label:"Applicant",render:(r,a)=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.applicant_name}),e.jsx("div",{className:"text-sm text-gray-500",children:a.applicant_email})]})},{key:"position",label:"Position",className:"font-medium"},{key:"department",label:"Department"},{key:"contact",label:"Contact",render:(r,a)=>{var t;return e.jsxs("div",{className:"text-sm",children:[e.jsx("div",{className:"text-gray-900",children:a.applicant_phone||((t=a.applicant_data)==null?void 0:t.phone)||"â€”"}),e.jsx("div",{className:"text-gray-500",children:a.applicant_email})]})}},{key:"location",label:"Location",render:(r,a)=>{var t,x;return e.jsx("span",{className:"text-sm text-gray-600",children:[(t=a.applicant_data)==null?void 0:t.city,(x=a.applicant_data)==null?void 0:x.state].filter(Boolean).join(", ")||"â€”"})}}];return h==="hr"&&s.push({key:"property_name",label:"Property"}),s.push({key:"status",label:"Status",render:(r,a)=>xe(a.status)},{key:"applied_at",label:"Applied",render:(r,a)=>e.jsx("span",{className:"text-sm text-gray-500",children:W(a.applied_at)})},{key:"actions",label:"Actions",sortable:!1,render:(r,a)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(m,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),O(a),Ce(!0)},children:[e.jsx(es,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),Ms(a)},className:"text-gray-600 border-gray-600 hover:bg-gray-50",children:[e.jsx(ss,{className:"w-4 h-4 mr-1"}),"History"]}),a.status==="pending"&&h==="manager"&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{variant:"outline",size:"sm",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:t=>{t.stopPropagation(),O(a),P({...o,job_title:a.position}),le(!0)},children:[e.jsx(as,{className:"w-4 h-4 mr-1"}),"Approve"]}),e.jsxs(m,{variant:"outline",size:"sm",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:t=>{t.stopPropagation(),O(a),fe(!0)},children:[e.jsx(ts,{className:"w-4 h-4 mr-1"}),"Reject"]})]}),a.status==="talent_pool"&&e.jsxs(m,{variant:"outline",size:"sm",className:"text-blue-600 border-blue-600 hover:bg-blue-50",onClick:t=>{t.stopPropagation(),qe(a.id,"pending","Reactivated from talent pool")},children:[e.jsx(ls,{className:"w-4 h-4 mr-1"}),"Reactivate"]}),a.status==="rejected"&&h==="hr"&&e.jsxs(m,{variant:"outline",size:"sm",className:"text-orange-600 border-orange-600 hover:bg-orange-50",onClick:t=>{t.stopPropagation(),qe(a.id,"talent_pool","Moved to talent pool for future consideration")},children:[e.jsx(De,{className:"w-4 h-4 mr-1"}),"To Talent Pool"]})]})}),s},[h,o]),qs=i.useMemo(()=>[{key:"applicant_name",weight:3,searchable:!0,highlightable:!0},{key:"applicant_email",weight:2,searchable:!0,highlightable:!0},{key:"position",weight:2,searchable:!0,highlightable:!0},{key:"department",weight:2,searchable:!0,highlightable:!0},{key:"property_name",weight:1,searchable:!0,highlightable:!0},{key:"status",weight:1,searchable:!0,highlightable:!1}],[]),Vs=i.useMemo(()=>[{key:"applicant_name",label:"Applicant Name",type:"text"},{key:"applicant_email",label:"Email",type:"text"},{key:"position",label:"Position",type:"text"},{key:"department",label:"Department",type:"select",options:Ae.map(s=>({value:s,label:s}))},...h==="hr"?[{key:"property_name",label:"Property",type:"select",options:ve.map(s=>({value:s.name,label:s.name}))}]:[],{key:"status",label:"Status",type:"select",options:[{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"talent_pool",label:"Talent Pool"}]},{key:"applied_at",label:"Applied Date",type:"date"}],[Ae,ve,h]),Us=i.useMemo(()=>[{key:"applicant_name",label:"Applicant Name",type:"text"},{key:"applicant_email",label:"Email",type:"text"},{key:"applicant_phone",label:"Phone",type:"text"},{key:"position",label:"Position",type:"text"},{key:"department",label:"Department",type:"text"},...h==="hr"?[{key:"property_name",label:"Property",type:"text"}]:[],{key:"status",label:"Status",type:"text",format:s=>s.charAt(0).toUpperCase()+s.slice(1)},{key:"applied_at",label:"Applied Date",type:"date",format:s=>new Date(s).toLocaleDateString()},{key:"reviewed_at",label:"Reviewed Date",type:"date",format:s=>s?new Date(s).toLocaleDateString():"Not reviewed"},{key:"reviewed_by",label:"Reviewed By",type:"text"},{key:"rejection_reason",label:"Rejection Reason",type:"text"}],[h]);return je?e.jsxs(Qe,{children:[e.jsx(Ze,{children:e.jsx(Ye,{children:"Applications Management"})}),e.jsx(We,{children:e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"Loading applications..."})})})]}):e.jsxs(Qe,{className:"transition-opacity duration-300 opacity-100",children:[e.jsx(Ze,{children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(Ye,{children:"Applications Management"})})})}),e.jsxs(We,{children:[e.jsxs(Xs,{value:ne,onValueChange:ys,className:"w-full",children:[e.jsxs(Ks,{className:"grid w-full grid-cols-2",children:[e.jsx(Xe,{value:"applications",children:"Applications"}),e.jsxs(Xe,{value:"talent-pool",children:["Talent Pool (",S.length,")"]})]}),e.jsxs(Ke,{value:"applications",className:"space-y-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[280px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(V,{placeholder:"Search applications...",value:ae,onChange:s=>Ee(s.target.value),className:"pl-10 h-9"})]})}),e.jsx(m,{variant:"outline",size:"sm",onClick:()=>C(),disabled:je,className:"h-9",children:e.jsx(sa,{className:`h-4 w-4 ${je?"animate-spin":""}`})}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h==="hr"&&e.jsxs(R,{value:Z,onValueChange:Me,children:[e.jsx(F,{className:"w-[120px] h-9 text-sm",children:e.jsx(E,{placeholder:"Property"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All Properties"}),ve.map(s=>e.jsx(c,{value:s.id,children:s.name},s.id))]})]}),e.jsxs(R,{value:Q,onValueChange:Oe,children:[e.jsx(F,{className:"w-[120px] h-9 text-sm",children:e.jsx(E,{placeholder:"Department"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All Departments"}),Ae.map(s=>e.jsx(c,{value:s,children:s},s))]})]}),e.jsxs(R,{value:J,onValueChange:Be,children:[e.jsx(F,{className:"w-[100px] h-9 text-sm",children:e.jsx(E,{placeholder:"Status"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All"}),e.jsx(c,{value:"pending",children:"Pending"}),e.jsx(c,{value:"approved",children:"Approved"}),e.jsx(c,{value:"rejected",children:"Rejected"}),e.jsx(c,{value:"talent_pool",children:"Talent Pool"})]})]}),e.jsxs(R,{value:`${ge}-${Se}`,onValueChange:s=>{const[r,a]=s.split("-");$e(r),Ie(a)},children:[e.jsx(F,{className:"w-[110px] h-9 text-sm",children:e.jsx(E,{placeholder:"Sort"})}),e.jsxs(B,{children:[e.jsx(c,{value:"applied_at-desc",children:"Newest"}),e.jsx(c,{value:"applied_at-asc",children:"Oldest"}),e.jsx(c,{value:"applicant_name-asc",children:"Name A-Z"}),e.jsx(c,{value:"applicant_name-desc",children:"Name Z-A"}),e.jsx(c,{value:"position-asc",children:"Position A-Z"}),e.jsx(c,{value:"status-asc",children:"Status"}),h==="hr"&&e.jsx(c,{value:"property_name-asc",children:"Property A-Z"})]})]})]}),$.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[$.length," selected"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>be(!0),className:"h-9 px-3 text-sm",children:[e.jsx(De,{className:"h-4 w-4 mr-1"}),"Bulk Update"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(m,{variant:"ghost",size:"sm",onClick:Cs,disabled:!ae&&J==="all"&&Q==="all"&&Z==="all",className:"h-9 px-3 text-sm",children:"Clear"}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>ps(!ye),className:"h-9 px-3 text-sm",children:[e.jsx(Ws,{className:"h-4 w-4 mr-1"}),"Filters"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:[H.length," applications"]}),(ae||J!=="all"||Q!=="all"||Z!=="all")&&e.jsx("span",{className:"text-blue-600 text-xs",children:"Filters active"})]}),h==="manager"&&(se==null?void 0:se.id)&&e.jsx("div",{className:"mt-2",children:e.jsx(ea,{property:{id:se.id,name:se.name,qr_code_url:se.qr_code_url||""},showRegenerateButton:!0,className:"whitespace-nowrap"})})]}),ye&&e.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Advanced Filters"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use these advanced filters when basic filtering doesn't meet your needs."})]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Advanced filtering options are available in the table below. Use the search and filter controls in the table header."})]}),e.jsx(Gs,{data:H,columns:Ls,searchFields:qs,filterFields:Vs,exportColumns:Us,enableAdvancedSearch:ye,enableAdvancedFilter:ye,enableExport:!0,exportFilename:"job-applications",exportTitle:"Job Applications Report",searchable:!1,sortable:!1,pagination:!0,pageSize:10,loading:je,emptyMessage:ae||J!=="all"||Q!=="all"||Z!=="all"?"No applications found. Try adjusting your filters.":"No applications have been submitted yet.",onRowClick:s=>{O(s),Ce(!0)}})]}),e.jsxs(Ke,{value:"talent-pool",className:"space-y-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("div",{className:"flex-1 min-w-[280px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(V,{placeholder:"Search talent pool candidates...",value:re,onChange:s=>fs(s.target.value),className:"pl-10 h-9"})]})}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[h==="hr"&&e.jsxs(R,{value:ce,onValueChange:bs,children:[e.jsx(F,{className:"w-[120px] h-9 text-sm",children:e.jsx(E,{placeholder:"Property"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All Properties"}),ve.map(s=>e.jsx(c,{value:s.id,children:s.name},s.id))]})]}),e.jsxs(R,{value:oe,onValueChange:vs,children:[e.jsx(F,{className:"w-[120px] h-9 text-sm",children:e.jsx(E,{placeholder:"Department"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All Departments"}),ks.map(s=>e.jsx(c,{value:s,children:s},s))]})]}),e.jsxs(R,{value:de,onValueChange:Ns,children:[e.jsx(F,{className:"w-[120px] h-9 text-sm",children:e.jsx(E,{placeholder:"Position"})}),e.jsxs(B,{children:[e.jsx(c,{value:"all",children:"All Positions"}),As.map(s=>e.jsx(c,{value:s,children:s},s))]})]})]}),f.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[f.length," selected"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>{Le("email"),pe(!0)},className:"h-9 px-3 text-sm",children:[e.jsx(aa,{className:"h-4 w-4 mr-1"}),"Email"]}),e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>{Le("reactivate"),pe(!0)},className:"h-9 px-3 text-sm",children:[e.jsx(ls,{className:"h-4 w-4 mr-1"}),"Reactivate"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-sm text-gray-500",children:[e.jsxs("span",{children:[S.length," candidates in talent pool"]}),f.length>0&&e.jsxs("span",{className:"text-blue-600 text-xs",children:[f.length," selected"]})]})]}),ds?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"Loading talent pool candidates..."})}):e.jsx("div",{className:"border rounded-lg",children:e.jsxs(Qs,{children:[e.jsx(Zs,{children:e.jsxs(Pe,{children:[e.jsx(U,{className:"w-12",children:e.jsx(we,{checked:f.length===S.length&&S.length>0,onCheckedChange:Fs})}),e.jsx(U,{children:"Candidate"}),e.jsx(U,{children:"Position"}),e.jsx(U,{children:"Department"}),h==="hr"&&e.jsx(U,{children:"Property"}),e.jsx(U,{children:"Experience"}),e.jsx(U,{children:"In Pool Since"}),e.jsx(U,{children:"Actions"})]})}),e.jsx(Ys,{children:S.length===0?e.jsx(Pe,{children:e.jsx(M,{colSpan:h==="hr"?8:7,className:"text-center py-8 text-gray-500",children:re||oe!=="all"||ce!=="all"||de!=="all"?"No candidates found. Try adjusting your filters.":"No candidates in talent pool yet."})}):S.map(s=>e.jsxs(Pe,{className:"hover:bg-gray-50",children:[e.jsx(M,{children:e.jsx(we,{checked:f.includes(s.id),onCheckedChange:r=>Rs(s.id,r)})}),e.jsx(M,{children:e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[s.applicant_data.first_name," ",s.applicant_data.last_name]}),e.jsx("div",{className:"text-sm text-gray-500",children:s.applicant_data.email})]})}),e.jsx(M,{className:"font-medium",children:s.position}),e.jsx(M,{children:s.department}),h==="hr"&&e.jsx(M,{children:s.property_name}),e.jsx(M,{children:e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:[s.applicant_data.experience_years," years"]}),e.jsxs("div",{className:"text-gray-500",children:["Hotel: ",s.applicant_data.hotel_experience||"No"]})]})}),e.jsx(M,{children:e.jsx("span",{className:"text-sm text-gray-500",children:W(s.talent_pool_date)})}),e.jsx(M,{children:e.jsxs(m,{variant:"outline",size:"sm",onClick:()=>{hs(s),ze(!0)},children:[e.jsx(es,{className:"w-4 h-4 mr-1"}),"View"]})})]},s.id))})]})})]})]}),e.jsx(G,{open:ms,onOpenChange:Ce,children:e.jsxs(X,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(K,{children:e.jsx(ee,{children:"Application Details"})}),n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Position"}),e.jsx("p",{className:"font-medium",children:n.position})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Department"}),e.jsx("p",{children:n.department})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Property"}),e.jsx("p",{children:n.property_name})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("div",{className:"mt-1",children:xe(n.status)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Applicant Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Full Name"}),e.jsx("p",{children:n.applicant_name})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{children:n.applicant_email})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{children:n.applicant_phone})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{children:n.applicant_data.address})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"City, State ZIP"}),e.jsxs("p",{children:[n.applicant_data.city,", ",n.applicant_data.state," ",n.applicant_data.zip_code]})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Work Authorization"}),e.jsx("p",{children:n.applicant_data.work_authorized})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Experience Years"}),e.jsx("p",{children:n.applicant_data.experience_years})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Hotel Experience"}),e.jsx("p",{children:n.applicant_data.hotel_experience})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Employment Type"}),e.jsx("p",{children:n.applicant_data.employment_type})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Shift Preference"}),e.jsx("p",{children:n.applicant_data.shift_preference})]})]})]}),n.reviewed_by&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Review Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Reviewed By"}),e.jsx("p",{children:n.reviewed_by})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Reviewed At"}),e.jsx("p",{children:n.reviewed_at?W(n.reviewed_at):"N/A"})]}),n.rejection_reason&&e.jsxs("div",{className:"col-span-2",children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Rejection Reason"}),e.jsx("p",{className:"text-red-600",children:n.rejection_reason})]})]})]})]})]})}),e.jsx(G,{open:us,onOpenChange:fe,children:e.jsxs(X,{children:[e.jsx(K,{children:e.jsx(ee,{children:"Reject Application"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"rejection-reason",children:"Rejection Reason"}),e.jsx(Te,{id:"rejection-reason",placeholder:"Please provide a reason for rejecting this application...",value:ie,onChange:s=>ke(s.target.value),rows:4})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{variant:"outline",onClick:()=>{fe(!1),ke("")},disabled:b,children:"Cancel"}),e.jsx(m,{variant:"destructive",onClick:Ts,disabled:b||!ie.trim(),children:b?"Rejecting...":"Reject Application"})]})]})]})}),e.jsx(G,{open:js,onOpenChange:le,children:e.jsxs(X,{className:"max-w-2xl",children:[e.jsx(K,{children:e.jsx(ee,{children:"Approve Application - Job Offer Details"})}),n&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-medium text-blue-900",children:["Creating job offer for: ",n.applicant_name]}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Position: ",n.position," | Department: ",n.department]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"job_title",children:["Job Title ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(V,{id:"job_title",value:o.job_title,onChange:s=>P({...o,job_title:s.target.value}),placeholder:"Enter job title",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"start_date",children:["Start Date ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(V,{id:"start_date",type:"date",value:o.start_date,onChange:s=>P({...o,start_date:s.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"start_time",children:["Start Time ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(V,{id:"start_time",type:"time",value:o.start_time,onChange:s=>P({...o,start_time:s.target.value}),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"pay_rate",children:["Pay Rate ($/hour) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(V,{id:"pay_rate",type:"number",step:"0.01",min:"0",value:o.pay_rate,onChange:s=>P({...o,pay_rate:s.target.value}),placeholder:"15.00",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"pay_frequency",children:["Pay Frequency ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(R,{value:o.pay_frequency,onValueChange:s=>P({...o,pay_frequency:s}),children:[e.jsx(F,{children:e.jsx(E,{})}),e.jsxs(B,{children:[e.jsx(c,{value:"weekly",children:"Weekly"}),e.jsx(c,{value:"bi-weekly",children:"Bi-weekly"}),e.jsx(c,{value:"monthly",children:"Monthly"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"benefits_eligible",children:["Benefits Eligible ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(R,{value:o.benefits_eligible,onValueChange:s=>P({...o,benefits_eligible:s}),children:[e.jsx(F,{children:e.jsx(E,{})}),e.jsxs(B,{children:[e.jsx(c,{value:"yes",children:"Yes"}),e.jsx(c,{value:"no",children:"No"})]})]})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsxs(l,{htmlFor:"supervisor",children:["Direct Supervisor ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(V,{id:"supervisor",value:o.supervisor,onChange:s=>P({...o,supervisor:s.target.value}),placeholder:"Enter supervisor name",required:!0})]}),e.jsxs("div",{className:"col-span-2 space-y-2",children:[e.jsx(l,{htmlFor:"special_instructions",children:"Special Instructions"}),e.jsx(Te,{id:"special_instructions",value:o.special_instructions,onChange:s=>P({...o,special_instructions:s.target.value}),rows:3,placeholder:"Any special instructions for the new employee..."})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{variant:"outline",onClick:()=>{le(!1),O(null)},disabled:b,children:"Cancel"}),e.jsx(m,{onClick:Ps,disabled:b||!o.job_title||!o.start_date||!o.start_time||!o.pay_rate||!o.pay_frequency||!o.benefits_eligible||!o.supervisor,className:"bg-green-600 hover:bg-green-700",children:b?"Sending Offer...":"Send Job Offer"})]})]})]})}),e.jsx(G,{open:xs,onOpenChange:ze,children:e.jsxs(X,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(K,{children:e.jsx(ee,{children:"Talent Pool Candidate Details"})}),d&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Position"}),e.jsx("p",{className:"font-medium",children:d.position})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Department"}),e.jsx("p",{children:d.department})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Property"}),e.jsx("p",{children:d.property_name})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"In Talent Pool Since"}),e.jsx("p",{children:W(d.talent_pool_date)})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Candidate Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Full Name"}),e.jsxs("p",{children:[d.applicant_data.first_name," ",d.applicant_data.last_name]})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("p",{children:d.applicant_data.email})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Phone"}),e.jsx("p",{children:d.applicant_data.phone})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{children:d.applicant_data.address})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"City, State ZIP"}),e.jsxs("p",{children:[d.applicant_data.city,", ",d.applicant_data.state," ",d.applicant_data.zip_code]})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Work Authorization"}),e.jsx("p",{children:d.applicant_data.work_authorized})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Experience Years"}),e.jsx("p",{children:d.applicant_data.experience_years})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Hotel Experience"}),e.jsx("p",{children:d.applicant_data.hotel_experience})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Employment Type"}),e.jsx("p",{children:d.applicant_data.employment_type})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Shift Preference"}),e.jsx("p",{children:d.applicant_data.shift_preference})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Timeline"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Originally Applied"}),e.jsx("p",{children:W(d.applied_at)})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Moved to Talent Pool"}),e.jsx("p",{children:W(d.talent_pool_date)})]}),d.reviewed_by&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Reviewed By"}),e.jsx("p",{children:d.reviewed_by})]}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium text-gray-500",children:"Reviewed At"}),e.jsx("p",{children:d.reviewed_at?W(d.reviewed_at):"N/A"})]})]})]})]})]})]})}),e.jsx(G,{open:_s,onOpenChange:pe,children:e.jsxs(X,{children:[e.jsx(K,{children:e.jsx(ee,{children:Y==="email"?"Send Email Notifications":"Reactivate Candidates"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-sm text-blue-900",children:Y==="email"?`Send email notifications to ${f.length} selected candidates about new opportunities.`:`Reactivate ${f.length} selected candidates and move them back to pending status.`})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{variant:"outline",onClick:()=>{pe(!1),te([])},disabled:b,children:"Cancel"}),e.jsx(m,{onClick:Ds,disabled:b,className:Y==="email"?"bg-blue-600 hover:bg-blue-700":"bg-green-600 hover:bg-green-700",children:b?Y==="email"?"Sending...":"Reactivating...":Y==="email"?"Send Emails":"Reactivate Candidates"})]})]})]})}),e.jsx(G,{open:Es,onOpenChange:He,children:e.jsxs(X,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsx(K,{children:e.jsx(ee,{children:"Application Status History"})}),n&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:[n.applicant_name," - ",n.position]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Current Status: ",xe(n.status)]})]}),Bs?e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"text-gray-500",children:"Loading history..."})}):Ve.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No status changes recorded yet."}):e.jsx("div",{className:"space-y-3",children:Ve.map((s,r)=>e.jsxs("div",{className:"border-l-4 border-blue-200 pl-4 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[xe(s.old_status),e.jsx("span",{className:"text-gray-400",children:"â†’"}),xe(s.new_status)]}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.changed_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"mt-1",children:[e.jsxs("p",{className:"text-sm text-gray-700",children:["Changed by: ",e.jsx("span",{className:"font-medium",children:s.changed_by})]}),s.reason&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Reason: ",s.reason]}),s.notes&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Notes: ",s.notes]})]})]},s.id))})]})]})}),e.jsx(G,{open:ws,onOpenChange:be,children:e.jsxs(X,{children:[e.jsx(K,{children:e.jsx(ee,{children:"Bulk Status Update"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900",children:["Update status for ",$.length," selected applications."]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"bulk-status",children:"New Status"}),e.jsxs(R,{value:v.new_status,onValueChange:s=>me({...v,new_status:s}),children:[e.jsx(F,{children:e.jsx(E,{placeholder:"Select new status"})}),e.jsxs(B,{children:[e.jsx(c,{value:"pending",children:"Pending"}),e.jsx(c,{value:"talent_pool",children:"Talent Pool"}),e.jsx(c,{value:"rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"bulk-reason",children:"Reason"}),e.jsx(V,{id:"bulk-reason",value:v.reason,onChange:s=>me({...v,reason:s.target.value}),placeholder:"Reason for status change"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"bulk-notes",children:"Notes (Optional)"}),e.jsx(Te,{id:"bulk-notes",value:v.notes,onChange:s=>me({...v,notes:s.target.value}),placeholder:"Additional notes...",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(m,{variant:"outline",onClick:()=>{be(!1),me({new_status:"",reason:"",notes:""})},disabled:b,children:"Cancel"}),e.jsx(m,{onClick:zs,disabled:b||!v.new_status,className:"bg-blue-600 hover:bg-blue-700",children:b?"Updating...":"Update Status"})]})]})]})})]})]})}export{za as ApplicationsTab};
